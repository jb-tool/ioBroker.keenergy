{"id":"HEzP","dependencies":[{"name":"/home/joshua/Projects/iobroker.keenergy/node_modules/@sentry/browser/esm/transports/fetch.js.map","includedInParent":true,"mtime":1640968286251},{"name":"/home/joshua/Projects/iobroker.keenergy/package.json","includedInParent":true,"mtime":1640968282582},{"name":"/home/joshua/Projects/iobroker.keenergy/node_modules/@sentry/browser/package.json","includedInParent":true,"mtime":1640968286251},{"name":"tslib","loc":{"line":1,"column":26},"parent":"/home/joshua/Projects/iobroker.keenergy/node_modules/@sentry/browser/esm/transports/fetch.js","resolved":"/home/joshua/Projects/iobroker.keenergy/node_modules/tslib/tslib.es6.js"},{"name":"@sentry/core","loc":{"line":2,"column":61},"parent":"/home/joshua/Projects/iobroker.keenergy/node_modules/@sentry/browser/esm/transports/fetch.js","resolved":"/home/joshua/Projects/iobroker.keenergy/node_modules/@sentry/core/esm/index.js"},{"name":"@sentry/types","loc":{"line":3,"column":24},"parent":"/home/joshua/Projects/iobroker.keenergy/node_modules/@sentry/browser/esm/transports/fetch.js","resolved":"/home/joshua/Projects/iobroker.keenergy/node_modules/@sentry/types/esm/index.js"},{"name":"@sentry/utils","loc":{"line":4,"column":65},"parent":"/home/joshua/Projects/iobroker.keenergy/node_modules/@sentry/browser/esm/transports/fetch.js","resolved":"/home/joshua/Projects/iobroker.keenergy/node_modules/@sentry/utils/esm/index.js"},{"name":"./base","loc":{"line":5,"column":30},"parent":"/home/joshua/Projects/iobroker.keenergy/node_modules/@sentry/browser/esm/transports/fetch.js","resolved":"/home/joshua/Projects/iobroker.keenergy/node_modules/@sentry/browser/esm/transports/base.js"},{"name":"./utils","loc":{"line":6,"column":45},"parent":"/home/joshua/Projects/iobroker.keenergy/node_modules/@sentry/browser/esm/transports/fetch.js","resolved":"/home/joshua/Projects/iobroker.keenergy/node_modules/@sentry/browser/esm/transports/utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.FetchTransport=void 0;var e=require(\"tslib\"),t=require(\"@sentry/core\"),r=require(\"@sentry/types\"),s=require(\"@sentry/utils\"),o=require(\"./base\"),n=require(\"./utils\"),i=function(o){function i(e,t){void 0===t&&(t=(0,n.getNativeFetchImplementation)());var r=o.call(this,e)||this;return r._fetch=t,r}return(0,e.__extends)(i,o),i.prototype.sendEvent=function(e){return this._sendRequest((0,t.eventToSentryRequest)(e,this._api),e)},i.prototype.sendSession=function(e){return this._sendRequest((0,t.sessionToSentryRequest)(e,this._api),e)},i.prototype._sendRequest=function(e,t){var o=this;if(this._isRateLimited(e.type))return this.recordLostEvent(r.Outcome.RateLimitBackoff,e.type),Promise.reject({event:t,type:e.type,reason:\"Transport for \"+e.type+\" requests locked till \"+this._disabledUntil(e.type)+\" due to too many requests.\",status:429});var n={body:e.body,method:\"POST\",referrerPolicy:(0,s.supportsReferrerPolicy)()?\"origin\":\"\"};return void 0!==this.options.fetchParameters&&Object.assign(n,this.options.fetchParameters),void 0!==this.options.headers&&(n.headers=this.options.headers),this._buffer.add(function(){return new s.SyncPromise(function(t,r){o._fetch(e.url,n).then(function(s){var n={\"x-sentry-rate-limits\":s.headers.get(\"X-Sentry-Rate-Limits\"),\"retry-after\":s.headers.get(\"Retry-After\")};o._handleResponse({requestType:e.type,response:s,headers:n,resolve:t,reject:r})}).catch(r)})}).then(void 0,function(t){throw t instanceof s.SentryError?o.recordLostEvent(r.Outcome.QueueOverflow,e.type):o.recordLostEvent(r.Outcome.NetworkError,e.type),t})},i}(o.BaseTransport);exports.FetchTransport=i;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":0}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":13}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":20}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":35}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":43}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":56}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":57}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":64}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":68}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":76}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":96}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":98}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":102}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":104}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":112}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":121}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":123}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":131}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":147}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":149}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":157}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":174}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":176}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":184}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":201}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":203}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":211}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":221}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":223}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":231}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":242}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":244}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":253}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":256}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":265}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":15,"column":21},"generated":{"line":1,"column":267}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":15,"column":48},"generated":{"line":1,"column":269}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":15,"column":48},"generated":{"line":1,"column":277}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":15,"column":48},"generated":{"line":1,"column":281}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":15,"column":48},"generated":{"line":1,"column":285}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":15,"column":71},"generated":{"line":1,"column":288}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":15,"column":48},"generated":{"line":1,"column":290}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":15,"column":48},"generated":{"line":1,"column":292}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":325}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":329}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":331}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":333}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":338}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":16,"column":10},"generated":{"line":1,"column":343}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":16,"column":18},"generated":{"line":1,"column":347}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":352}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":1,"column":359}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":17,"column":9},"generated":{"line":1,"column":361}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":17,"column":18},"generated":{"line":1,"column":368}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":370}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":99,"column":0},"generated":{"line":1,"column":372}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":36},"generated":{"line":1,"column":379}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":36},"generated":{"line":1,"column":381}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":36},"generated":{"line":1,"column":383}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":36},"generated":{"line":1,"column":394}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":36},"generated":{"line":1,"column":396}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":23,"column":9},"generated":{"line":1,"column":399}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":23,"column":9},"generated":{"line":1,"column":401}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":23,"column":9},"generated":{"line":1,"column":411}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":421}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":23,"column":19},"generated":{"line":1,"column":430}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":24,"column":11},"generated":{"line":1,"column":433}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":24,"column":11},"generated":{"line":1,"column":440}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":24,"column":16},"generated":{"line":1,"column":445}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":24,"column":29},"generated":{"line":1,"column":459}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":24,"column":50},"generated":{"line":1,"column":461}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":24,"column":50},"generated":{"line":1,"column":463}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":24,"column":50},"generated":{"line":1,"column":485}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":24,"column":57},"generated":{"line":1,"column":487}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":24,"column":62},"generated":{"line":1,"column":492}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":24,"column":69},"generated":{"line":1,"column":498}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":502}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":504}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":514}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":526}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":30,"column":21},"generated":{"line":1,"column":535}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":31,"column":11},"generated":{"line":1,"column":538}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":31,"column":11},"generated":{"line":1,"column":545}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":1,"column":550}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":31,"column":29},"generated":{"line":1,"column":564}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":31,"column":52},"generated":{"line":1,"column":566}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":31,"column":52},"generated":{"line":1,"column":568}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":31,"column":52},"generated":{"line":1,"column":592}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":31,"column":61},"generated":{"line":1,"column":594}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":31,"column":66},"generated":{"line":1,"column":599}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":31,"column":73},"generated":{"line":1,"column":605}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":1,"column":609}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":1,"column":611}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":38,"column":10},"generated":{"line":1,"column":621}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":634}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":38,"column":23},"generated":{"line":1,"column":643}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":38,"column":53},"generated":{"line":1,"column":645}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":648}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":652}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":654}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":659}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":662}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":39,"column":13},"generated":{"line":1,"column":667}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":39,"column":28},"generated":{"line":1,"column":682}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":39,"column":42},"generated":{"line":1,"column":684}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":42,"column":13},"generated":{"line":1,"column":690}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":697}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":702}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":40,"column":27},"generated":{"line":1,"column":718}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":40,"column":35},"generated":{"line":1,"column":720}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":40,"column":35},"generated":{"line":1,"column":728}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":40,"column":53},"generated":{"line":1,"column":745}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":40,"column":67},"generated":{"line":1,"column":747}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":42,"column":13},"generated":{"line":1,"column":753}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":42,"column":21},"generated":{"line":1,"column":761}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":42,"column":28},"generated":{"line":1,"column":768}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":769}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":43,"column":15},"generated":{"line":1,"column":775}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":1,"column":777}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":44,"column":14},"generated":{"line":1,"column":782}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":44,"column":28},"generated":{"line":1,"column":784}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":1,"column":789}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":45,"column":16},"generated":{"line":1,"column":796}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":45,"column":33},"generated":{"line":1,"column":813}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":45,"column":47},"generated":{"line":1,"column":815}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":45,"column":51},"generated":{"line":1,"column":820}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":45,"column":76},"generated":{"line":1,"column":845}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":45,"column":81},"generated":{"line":1,"column":850}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":46,"column":10},"generated":{"line":1,"column":865}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":46,"column":24},"generated":{"line":1,"column":867}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":47,"column":9},"generated":{"line":1,"column":873}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":1,"column":902}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":48,"column":16},"generated":{"line":1,"column":909}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":52,"column":10},"generated":{"line":1,"column":915}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":52,"column":10},"generated":{"line":1,"column":919}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":52,"column":33},"generated":{"line":1,"column":921}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":53,"column":6},"generated":{"line":1,"column":922}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":53,"column":12},"generated":{"line":1,"column":927}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":53,"column":26},"generated":{"line":1,"column":929}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":54,"column":6},"generated":{"line":1,"column":934}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":54,"column":14},"generated":{"line":1,"column":941}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":59,"column":6},"generated":{"line":1,"column":948}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":59,"column":23},"generated":{"line":1,"column":964}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":59,"column":50},"generated":{"line":1,"column":966}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":59,"column":50},"generated":{"line":1,"column":968}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":59,"column":50},"generated":{"line":1,"column":994}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":59,"column":61},"generated":{"line":1,"column":1003}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":68,"column":11},"generated":{"line":1,"column":1007}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":61,"column":41},"generated":{"line":1,"column":1019}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":1,"column":1023}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":61,"column":13},"generated":{"line":1,"column":1028}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":61,"column":21},"generated":{"line":1,"column":1036}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":62,"column":6},"generated":{"line":1,"column":1053}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":1,"column":1060}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":62,"column":20},"generated":{"line":1,"column":1067}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":62,"column":29},"generated":{"line":1,"column":1069}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":62,"column":34},"generated":{"line":1,"column":1074}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":62,"column":42},"generated":{"line":1,"column":1082}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":64,"column":33},"generated":{"line":1,"column":1104}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":1108}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":64,"column":13},"generated":{"line":1,"column":1113}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":64,"column":21},"generated":{"line":1,"column":1121}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":65,"column":6},"generated":{"line":1,"column":1131}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":65,"column":14},"generated":{"line":1,"column":1133}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":65,"column":24},"generated":{"line":1,"column":1141}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":65,"column":29},"generated":{"line":1,"column":1146}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":65,"column":37},"generated":{"line":1,"column":1154}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":68,"column":11},"generated":{"line":1,"column":1163}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":68,"column":16},"generated":{"line":1,"column":1168}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":69,"column":7},"generated":{"line":1,"column":1176}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":1,"column":1180}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":71,"column":10},"generated":{"line":1,"column":1191}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":71,"column":10},"generated":{"line":1,"column":1198}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":71,"column":14},"generated":{"line":1,"column":1202}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":71,"column":10},"generated":{"line":1,"column":1204}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":71,"column":36},"generated":{"line":1,"column":1216}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":71,"column":37},"generated":{"line":1,"column":1225}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":71,"column":46},"generated":{"line":1,"column":1227}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":72,"column":17},"generated":{"line":1,"column":1230}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":72,"column":22},"generated":{"line":1,"column":1232}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":72,"column":29},"generated":{"line":1,"column":1239}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":72,"column":43},"generated":{"line":1,"column":1241}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":72,"column":48},"generated":{"line":1,"column":1245}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":73,"column":15},"generated":{"line":1,"column":1248}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":73,"column":20},"generated":{"line":1,"column":1253}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":73,"column":20},"generated":{"line":1,"column":1262}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":74,"column":22},"generated":{"line":1,"column":1265}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":74,"column":22},"generated":{"line":1,"column":1269}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":74,"column":32},"generated":{"line":1,"column":1271}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":75,"column":42},"generated":{"line":1,"column":1272}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":75,"column":42},"generated":{"line":1,"column":1295}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":75,"column":51},"generated":{"line":1,"column":1297}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":75,"column":59},"generated":{"line":1,"column":1305}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":75,"column":63},"generated":{"line":1,"column":1309}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":76,"column":33},"generated":{"line":1,"column":1333}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":76,"column":33},"generated":{"line":1,"column":1347}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":76,"column":42},"generated":{"line":1,"column":1349}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":76,"column":50},"generated":{"line":1,"column":1357}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":76,"column":54},"generated":{"line":1,"column":1361}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":78,"column":16},"generated":{"line":1,"column":1377}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":78,"column":21},"generated":{"line":1,"column":1379}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":78,"column":37},"generated":{"line":1,"column":1395}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":79,"column":18},"generated":{"line":1,"column":1396}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":79,"column":31},"generated":{"line":1,"column":1408}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":79,"column":45},"generated":{"line":1,"column":1410}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":80,"column":18},"generated":{"line":1,"column":1415}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":80,"column":26},"generated":{"line":1,"column":1424}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":81,"column":18},"generated":{"line":1,"column":1426}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":81,"column":25},"generated":{"line":1,"column":1434}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":82,"column":18},"generated":{"line":1,"column":1436}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":82,"column":25},"generated":{"line":1,"column":1444}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":83,"column":18},"generated":{"line":1,"column":1446}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":83,"column":24},"generated":{"line":1,"column":1453}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":86,"column":15},"generated":{"line":1,"column":1459}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":86,"column":21},"generated":{"line":1,"column":1465}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":89,"column":7},"generated":{"line":1,"column":1472}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":89,"column":12},"generated":{"line":1,"column":1482}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":89,"column":23},"generated":{"line":1,"column":1484}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":89,"column":23},"generated":{"line":1,"column":1493}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":96,"column":14},"generated":{"line":1,"column":1496}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":91,"column":12},"generated":{"line":1,"column":1502}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":91,"column":30},"generated":{"line":1,"column":1515}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":91,"column":8},"generated":{"line":1,"column":1517}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":92,"column":10},"generated":{"line":1,"column":1529}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":92,"column":15},"generated":{"line":1,"column":1531}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":92,"column":31},"generated":{"line":1,"column":1547}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":92,"column":39},"generated":{"line":1,"column":1549}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":92,"column":39},"generated":{"line":1,"column":1557}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":92,"column":54},"generated":{"line":1,"column":1571}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":92,"column":68},"generated":{"line":1,"column":1573}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":94,"column":10},"generated":{"line":1,"column":1579}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":94,"column":15},"generated":{"line":1,"column":1581}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":94,"column":31},"generated":{"line":1,"column":1597}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":94,"column":39},"generated":{"line":1,"column":1599}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":94,"column":39},"generated":{"line":1,"column":1607}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":94,"column":53},"generated":{"line":1,"column":1620}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":94,"column":67},"generated":{"line":1,"column":1622}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":96,"column":14},"generated":{"line":1,"column":1628}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":99,"column":0},"generated":{"line":1,"column":1633}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1635}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":36},"generated":{"line":1,"column":1636}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1638}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1653}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1661}},{"source":"../../src/transports/fetch.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1676}}],"sources":{"../../src/transports/fetch.ts":"import { eventToSentryRequest, sessionToSentryRequest } from '@sentry/core';\nimport { Event, Outcome, Response, SentryRequest, Session, TransportOptions } from '@sentry/types';\nimport { SentryError, supportsReferrerPolicy, SyncPromise } from '@sentry/utils';\n\nimport { BaseTransport } from './base';\nimport { FetchImpl, getNativeFetchImplementation } from './utils';\n\n/** `fetch` based transport */\nexport class FetchTransport extends BaseTransport {\n  /**\n   * Fetch API reference which always points to native browser implementation.\n   */\n  private _fetch: typeof fetch;\n\n  public constructor(options: TransportOptions, fetchImpl: FetchImpl = getNativeFetchImplementation()) {\n    super(options);\n    this._fetch = fetchImpl;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public sendEvent(event: Event): PromiseLike<Response> {\n    return this._sendRequest(eventToSentryRequest(event, this._api), event);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  public sendSession(session: Session): PromiseLike<Response> {\n    return this._sendRequest(sessionToSentryRequest(session, this._api), session);\n  }\n\n  /**\n   * @param sentryRequest Prepared SentryRequest to be delivered\n   * @param originalPayload Original payload used to create SentryRequest\n   */\n  private _sendRequest(sentryRequest: SentryRequest, originalPayload: Event | Session): PromiseLike<Response> {\n    if (this._isRateLimited(sentryRequest.type)) {\n      this.recordLostEvent(Outcome.RateLimitBackoff, sentryRequest.type);\n\n      return Promise.reject({\n        event: originalPayload,\n        type: sentryRequest.type,\n        reason: `Transport for ${sentryRequest.type} requests locked till ${this._disabledUntil(\n          sentryRequest.type,\n        )} due to too many requests.`,\n        status: 429,\n      });\n    }\n\n    const options: RequestInit = {\n      body: sentryRequest.body,\n      method: 'POST',\n      // Despite all stars in the sky saying that Edge supports old draft syntax, aka 'never', 'always', 'origin' and 'default\n      // https://caniuse.com/#feat=referrer-policy\n      // It doesn't. And it throw exception instead of ignoring this parameter...\n      // REF: https://github.com/getsentry/raven-js/issues/1233\n      referrerPolicy: (supportsReferrerPolicy() ? 'origin' : '') as ReferrerPolicy,\n    };\n    if (this.options.fetchParameters !== undefined) {\n      Object.assign(options, this.options.fetchParameters);\n    }\n    if (this.options.headers !== undefined) {\n      options.headers = this.options.headers;\n    }\n\n    return this._buffer\n      .add(\n        () =>\n          new SyncPromise<Response>((resolve, reject) => {\n            void this._fetch(sentryRequest.url, options)\n              .then(response => {\n                const headers = {\n                  'x-sentry-rate-limits': response.headers.get('X-Sentry-Rate-Limits'),\n                  'retry-after': response.headers.get('Retry-After'),\n                };\n                this._handleResponse({\n                  requestType: sentryRequest.type,\n                  response,\n                  headers,\n                  resolve,\n                  reject,\n                });\n              })\n              .catch(reject);\n          }),\n      )\n      .then(undefined, reason => {\n        // It's either buffer rejection or any other xhr/fetch error, which are treated as NetworkError.\n        if (reason instanceof SentryError) {\n          this.recordLostEvent(Outcome.QueueOverflow, sentryRequest.type);\n        } else {\n          this.recordLostEvent(Outcome.NetworkError, sentryRequest.type);\n        }\n        throw reason;\n      });\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"0c60b0b2f74c88a11d8a43bfcafe80c2","cacheData":{"env":{}}}